
10 DIM S,X,Y,C$,P,P(7,7),G(7,7)
11 P(4,4)=1:P(5,4)=1:P(6,4)=1:
12 G(3,4)=1:G(6,4)=1:G(7,4)=1:
100 CLS

110 T$="FLIPPING BITS":TL=0:GOSUB9600
111 L=69:PRINT@L,"board";:PRINT@L+15,"target";
113 BC$=CHR$(246):BX=3:BY=2:BH=10:BW=10:GOSUB9400
114 BC$=CHR$(150):BX=18:BY=2:BH=10:BW=10:GOSUB9400

115 P=3+2+((2+2)*32)
120 PRINT@P-1,"/1234567";
130 PRINT@P+14,"/1234567";
140 PRINT@P+31,"A";:PRINT@P+14+32,"A";
141 PRINT@P+63,"B";:PRINT@P+14+64,"B";
142 PRINT@P+95,"C";:PRINT@P+14+96,"C";
143 PRINT@P+127,"D";:PRINT@P+14+128,"D";
144 PRINT@P+159,"E";:PRINT@P+14+160,"E";
145 PRINT@P+191,"F";:PRINT@P+14+192,"F";
146 PRINT@P+223,"G";:PRINT@P+14+224,"G";

150 S=132:GOSUB 300
160 S=147:GOSUB 350

299 GOSUB 9900

300 FOR Y=1TO7
310 FOR X=1TO7
315 IF P(X,Y)=0 THEN PRINT@S+Y*32+X,CHR$(128); ELSE PRINT@S+Y*32+X,CHR$(207);
320 NEXT:NEXT
340 RETURN

350 FOR Y=1TO7
360 FOR X=1TO7
370 IF G(X,Y)=0 THEN PRINT@S+Y*32+X,CHR$(128); ELSE PRINT@S+Y*32+X,CHR$(207);
380 NEXT:NEXT
390 RETURN

5998 END
5999 REM ------LIBRARY LIVES HERE------

9000 REM TITLE SCREEN
9001 REM TT$ = PROGRAM NAME
9002 REM TBY$ = AUTHOR
9003 REM TD$ = DATE
9004 REM TV$ = VERSION
9010 TM=LEN(TT$):IF LEN(TBY$)>TM THEN TM=LEN(TBY$)
9015 IF LEN(TV$)>TM THEN TM=LEN(TV$)
9017 IF LEN(TD$)>TM THEN TM=LEN(TD$)
9020 BH=7:BW=TM+2:BY=3:BX=(30-BW)/2+1:BC$=CHR$(143):GOSUB9510
9030 BH=9:BW=TM+4:BY=1:BX=(32-BW)/2:BC$=TC$:GOSUB9410
9040 ?@(BY+1)*32 + ((32-LEN(TT$))/2),TT$;
9050 ?@(BY+3)*32 + ((32-LEN(TBY$))/2),TBY$;
9060 ?@(BY+5)*32 + ((32-LEN(TD$))/2),TD$;
9070 ?@(BY+7)*32 + ((32-LEN(TV$))/2),TV$;
9100 RETURN

9200 REM VERTICAL LINE
9201 REM LC$ = CHARACTER FOR LINE
9202 REM LX,LY = POSITION 
9203 REM LL = LENGTH
9210 LZ=LY+LL-1
9220 FOR BR=LY TO LZ:?@LX+(BR*32),LC$;:NEXT
9240 RETURN

9300 REM HORIZONTAL LINE
9301 REM LC$ = CHARACTER FOR LINE
9302 REM LX,LY = POSITION 
9304 REM LL = LENGTH
9310 LO$=""
9320 REM MC10: FOR BR=1TOLL:LO$=LO$+LC$:NEXT
9320 REM COCO/DRAGON: LO$=STRING$(LL,LC$)
9320 LO$=STRING$(LL,LC$)
9330 ?@LX+(LY*32),LO$;
9340 RETURN

9400 REM BOX OUTLINE
9403 REM BX,BY = BOX POSITION
9404 REM BH,BW = BOX HEIGHT & WIDTH
9405 REM BC$ = CHARACTER FOR BOX EDGE
9410 REM MC10: BR$="":FOR BR=1TOBW:BR$=BR$+BC$:NEXT
9410 REM COCO/DRAGON: BR$=STRING$(BW,BC$)
9410 BR$=STRING$(BW,BC$)
9420 ?@BX+((BY+1)*32),BR$;
9430 ?@BX+((BY+BH)*32),BR$;
9440 BH=BH-1:BY=BY+1:BW=BW-1
9450 FOR BQ=1TOBH:?@BX+((BY+BQ)*32),BC$;:?@BX+BW+((BY+BQ)*32),BC$;:NEXT
9460 RETURN

9500 REM FILLED BOX
9503 REM BX,BY = BOX POSITION
9504 REM BH,BW = BOX HEIGHT & WIDTH
9505 REM BC$ = CHARACTER FOR BOX
9510 REM MC10: BR$="":FOR BR=1TOBW:BR$=BR$+BC$:NEXT
9510 REM COCO/DRAGON: BR$=STRING$(BW,BC$)
9510 BR$=STRING$(BW,BC$)
9530 FOR BQ=1TOBH:?@BX+((BY-1+BQ)*32),BR$;:NEXT
9540 RETURN

9600 REM CENTER TEXT. TL = vertical line number.
9610 PRINT@(32-LEN(T$))/2+32*TL,T$;
9620 RETURN

9700 REM DELAY
9710 FORDZ=1TO1000:NEXT:RETURN

9800 REM WAIT FOR ANY KEY
9810 WA$=INKEY$:IF WA$="" THEN 9810
9820 RETURN

9900 REM ANY KEY PROMPT AT BOTTOM OF SCREEN.
9910 ?@483,"PRESS ANY KEY TO CONTINUE";:GOSUB9810:RETURN

9920 REM INVERTED ANY KEY PROMPT AT BOTTOM OF SCREEN.
9930 BC$=CHR$(128):?@483,"press"+BC$+"any"+BC$+"key"+BC$+"to"+BC$+"continue";:GOSUB9810:RETURN

9950 REM LOWER CASE TEXT
9960 TL=LEN(T$):O$=""
9970 FORBR=1TOTL:C$=MID$(T$,BR,1):BH=ASC(C$):IF BH<91 AND BH>64 THEN C$=CHR$(BH+32)
9971 IFBH=32THENC$=CHR$(128)
9975 O$=O$+C$
9979 NEXT
9980 T$=O$
9999 RETURN
